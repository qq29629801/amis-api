# API 接口说明

criteria主要用于数据的过滤，通常为一个数组，数组元素为过滤条件，每个条件是一个三元表达式，例如： [(‘state’,’=’,’confirm’), (‘user\_id’,’in’,[1,2,3])]
domain多个条件的逻辑运算使用了“波兰表示法”，波兰表示法的特定是操作符置于操作数前，运算顺序为：从左至右读入表达式，遇到一个操作符后跟随两个操作数时，则计算之，然后将结果作为操作数替换这个操作符和两个操作数；重复此步骤，直至所有操作符处理完毕。
逻辑运算符：

* | 代表“或”
* & 代表“且”
* ！代表“非”

条件的操作符主要有如下类型


| 操作符         | 说明                                                                              |
| -------------- | --------------------------------------------------------------------------------- |
| =,!=,>,>=,<,<= | 比较运算，等于，不等于，大于，大于等于，小于，小于等于                            |
| like           | 模糊匹配，可以使用通配符，下划线“\_”匹配一个字符，百分号“%”匹配零或者多个字符 |
| ilike          | 类似like,不区分大小写                                                             |
| not like       | 模糊不匹配的                                                                      |
| in             | 包含，判断值是否在元素的列表里面                                                  |
| not in         | 不包含，判断值是否不在元素的列表里面                                              |
| child\_of      | 判断是否value的子记录，通过\_parent\_name实现，不太理解                           |
| parent\_left   |                                                                                   |
| parent\_right  |                                                                                   |

默认条件之间是按“且”的方式计算

示例代码

```json
{
    "jsonrpc": "2.0",
    "params": {
        "app": "base",
        "model": "base_user",
        "service": "search",
        "tag": "master",
        "args": {
            "offset": 0,
            "criteria": [
                "&",
                "&",
                {
                    "field": "password",
                    "op": "like",
                    "value": "%"
                },
                {
                    "field": "nickName",
                    "op": "like",
                    "value": "%"
                },
                {
                    "field": "userName",
                    "op": "like",
                    "value": "%"
                }
            ],
            "limit": 31
        }
    }
}
```
